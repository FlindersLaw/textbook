"use strict";(self.webpackChunktextbook_source=self.webpackChunktextbook_source||[]).push([[93],{2479:(e,t,i)=>{i.r(t),i.d(t,{assets:()=>d,contentTitle:()=>r,default:()=>u,frontMatter:()=>l,metadata:()=>n,toc:()=>h});const n=JSON.parse('{"id":"textbook/chapter_04/00-50","title":"Mako if statements","description":"A Recap On If Statements and Application Design","source":"@site/docs/textbook/chapter_04/00-50.mdx","sourceDirName":"textbook/chapter_04","slug":"/textbook/chapter_04/00-50","permalink":"/textbook/docs/textbook/chapter_04/00-50","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Mako if statements"},"sidebar":"textbookSidebar","previous":{"title":"Nested if statements","permalink":"/textbook/docs/textbook/chapter_04/00-40"},"next":{"title":"If Statements and Logical Operators","permalink":"/textbook/docs/textbook/chapter_04/00-60"}}');var s=i(4848),a=i(8453),o=i(1428);const l={title:"Mako if statements"},r=void 0,d={},h=[{value:"A Recap On If Statements and Application Design",id:"a-recap-on-if-statements-and-application-design",level:2},{value:"Mako If Statements",id:"mako-if-statements",level:2},{value:"Rules for Mako If Statements",id:"rules-for-mako-if-statements",level:3},{value:"Another Example Mako If Statement",id:"another-example-mako-if-statement",level:2},{value:"Line 16",id:"line-16",level:3},{value:"Lines 1 to 14",id:"lines-1-to-14",level:3},{value:"Lines 21 to 33",id:"lines-21-to-33",level:3},{value:"Yet Another Example Mako If Statement",id:"yet-another-example-mako-if-statement",level:2},{value:"Lines 20 to 26 - the Mandatory Question Block",id:"lines-20-to-26---the-mandatory-question-block",level:3},{value:"Lines 1 to 7",id:"lines-1-to-7",level:3},{value:"Lines 27 to 28",id:"lines-27-to-28",level:3},{value:"Lines 8 to 10",id:"lines-8-to-10",level:3},{value:"Lines 30 to 31",id:"lines-30-to-31",level:3},{value:"Line 32",id:"line-32",level:3},{value:"Lines 33 to 34",id:"lines-33-to-34",level:3},{value:"Lines 35 to 40",id:"lines-35-to-40",level:3},{value:"Lines 11 to 15",id:"lines-11-to-15",level:3},{value:"Lines 41 to 46",id:"lines-41-to-46",level:3},{value:"Lines 16 to 19",id:"lines-16-to-19",level:3},{value:"Improving Our Application",id:"improving-our-application",level:2}];function c(e){const t={a:"a",admonition:"admonition",code:"code",em:"em",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return o||m("Components",!1),o.DisplayImage||m("Components.DisplayImage",!0),(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.h2,{id:"a-recap-on-if-statements-and-application-design",children:"A Recap On If Statements and Application Design"}),"\n",(0,s.jsxs)(t.p,{children:["In the ",(0,s.jsx)(t.a,{href:"00-30",children:"previous"})," ",(0,s.jsx)(t.a,{href:"00-40",children:"sections"}),", we developed a series of applications that used if statements to direct the flow of control for our application. Depending on what the user entered as input, the if statement would trigger an event and Docassemble would display an end screen."]}),"\n",(0,s.jsxs)(t.p,{children:["That type of logic works well for multiple different endpoints. For example, each of our endpoints in this chapter so far contains a statement on whether a user is eligible for a particular form of welfare. What if a user is eligible for more than one form of welfare? For example, someone could be eligible for both the Family Tax A and B pensions ",(0,s.jsx)(t.em,{children:"and"})," a disability support pension."]}),"\n",(0,s.jsx)(t.p,{children:"To implement this, we will need to use use Mako if statements."}),"\n",(0,s.jsx)(t.h2,{id:"mako-if-statements",children:"Mako If Statements"}),"\n",(0,s.jsx)(t.p,{children:"Rather than embedding our if statements in a code block, we can put Mako if statements into a question block."}),"\n",(0,s.jsx)(t.p,{children:"There are multiple advantages to this. We can express more complicated logic in our end screens, and display certain text conditionally, as well as format text differently. We can also reduce how many times we need to duplicate code, particularly question blocks and end screens."}),"\n",(0,s.jsx)(t.h3,{id:"rules-for-mako-if-statements",children:"Rules for Mako If Statements"}),"\n",(0,s.jsx)(t.p,{children:"The rules for using Mako if statements are different than for using if statements in a code block:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["We can only use Mako if statements in a question block ",(0,s.jsx)(t.em,{children:"after"})," a ",(0,s.jsx)(t.code,{children:"subquestion: |"})," tag"]}),"\n",(0,s.jsxs)(t.li,{children:["The line on which the Mako if statement starts must be two spaces to the right of the ",(0,s.jsx)(t.code,{children:"subquestion: |"})," tag"]}),"\n",(0,s.jsxs)(t.li,{children:["We start the if statement clause with a ",(0,s.jsx)(t.code,{children:"%"})," symbol, which tells Markdown we're about to do something special. ",(0,s.jsxs)(t.strong,{children:["Note that there must be a space between the ",(0,s.jsx)(t.code,{children:"%"})," symbol and the start of the if statement clause."]})," We end the if statement clause with a ",(0,s.jsx)(t.code,{children:":"})]}),"\n",(0,s.jsx)(t.li,{children:"We can either add Markdown text or other code (for example, a nested if statement) on the next line after the if statement clause"}),"\n",(0,s.jsxs)(t.li,{children:["We end the entire if statement with an ",(0,s.jsx)(t.code,{children:"% endif"})," clause, which must be aligned with any ",(0,s.jsx)(t.code,{children:"if"}),", ",(0,s.jsx)(t.code,{children:"elif"})," or  ",(0,s.jsx)(t.code,{children:"else"})," clause."]}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Note that you do not need to indent the text or code contained in your if statement. If you do, it could cause a syntax error."}),"\n",(0,s.jsx)(t.h2,{id:"another-example-mako-if-statement",children:"Another Example Mako If Statement"}),"\n",(0,s.jsxs)(t.p,{children:["The simplest use of Mako if statements is to condense down the number of screens required for a Docassemble application. Let's consider our court selector from the previous ",(0,s.jsx)(t.a,{href:"00-40",children:"section"}),". You might recall we used the following flowchart:"]}),"\n",(0,s.jsx)(t.mermaid,{value:"flowchart LR;\n    id1{{Where do you live?}}\n    id1 -- West Adelaide --\x3e id2(Port Adelaide Magistrates Court)\n    id1 -- Northern Adelaide --\x3e id3(Elizabeth Magistrates Court)\n    id1 -- North-East Adelaide --\x3e id4(Adelaide Magistrates Court)\n    id1 -- Adelaide CBD --\x3e id4\n    id1 -- Southern Adelaide --\x3e id5(Christies Beach Magistrates Court)"}),"\n",(0,s.jsx)(t.p,{children:"Although this would imply that we need to have four endpoints for each court, we can easily combine them together into one using a Mako if statement:"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",metastring:'showLineNumbers title="Ch4_Magistrates_Court_Finder_Mako.yml" showLineNumbers',children:"---\nquestion: |\n  Where do you live?\nfields:\n  - no label: userLocation\n    datatype: radio\n    choices:\n      - Western Adelaide: west\n      - Northern Adelaide: north\n      - North-East Adelaide: northeast\n      - Adelaide CBD: cbd\n      - Southern Adelaide: south\n      - None of the above: none\n---\n# This is the one mandatory question block\nmandatory: True\nquestion: Your local Magistrates Court\nsubquestion: |\n  Thank you for completing this survey.\n\n  % if userLocation == 'west':\n  Your nearest Magistrates Court is the Port Adelaide Magistrates Court at 260 St Vincent Street, Port Adelaide SA 5015.\n  % elif userLocation == 'north':\n  Your nearest Magistrates Court is the Elizabeth Magistrates Court at 15 Frobisher Road, Elizabeth SA 5112.\n  % elif userLocation == 'northeast':\n  Your nearest Magistrates Court is the Adelaide CBD Magistrates Court at 260 Victoria Square, Adelaide SA 5000.\n  % elif userLocation == 'cbd':\n  Your nearest Magistrates Court is the Adelaide CBD Magistrates Court at 260 Victoria Square, Adelaide SA 5000.\n  % elif userLocation == 'south':\n  Your nearest Magistrates Court is the Christies Beach Magistrates Court at 96 Dyson Road, Christie Downs SA 5164.\n  % else:\n  We are unable to identify a Magistrates Court near you.\n  % endif\n  \n  Please contact this [telephone number](tel:08 8204 2444) for further details.\n\nbuttons:\n  - Restart: restart\n  - Exit: exit\n---\n"})}),"\n",(0,s.jsx)(t.p,{children:"With our Mako if statement, we have shortened our code down from 65 lines to only 43. Let's look at how it works."}),"\n",(0,s.jsx)(t.h3,{id:"line-16",children:"Line 16"}),"\n",(0,s.jsxs)(t.p,{children:["Unlike the previous application, where we had ",(0,s.jsx)(t.code,{children:"event"})," tags, this application just has one mandatory if statement. Therefore, Docassemble will execute this code block first, and attempt to find a value of ",(0,s.jsx)(t.code,{children:"userLocation"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"lines-1-to-14",children:"Lines 1 to 14"}),"\n",(0,s.jsx)(t.p,{children:"Lines 1 to 14 work exactly as they did in the previous application."}),"\n",(0,s.jsx)(t.h3,{id:"lines-21-to-33",children:"Lines 21 to 33"}),"\n",(0,s.jsxs)(t.p,{children:["The big difference between this code and the previous code is our Mako ",(0,s.jsx)(t.code,{children:"if-elif-else"})," statement clause. If the user selects 'Western Adelaide' from the previous screen, they will see the following code:"]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/magistrates_court_mako_radio_west_adelaide.PNG",altText:"The user selecting West Adelaide from the first question block as the area where they live closest to."}),"\n",(0,s.jsx)(t.p,{children:"If the user selects none, they will see the following screen:"}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/magistrates_court_mako_question_west_adelaide.PNG",altText:"The text displayed on the final end screen if the user selects West Adelaide as their location."}),"\n",(0,s.jsx)(t.p,{children:"Again, we see almost identical output from our previous code. However, our code is now shorter, and we do not need to reuse code. That means there are less bugs."}),"\n",(0,s.jsx)(t.h2,{id:"yet-another-example-mako-if-statement",children:"Yet Another Example Mako If Statement"}),"\n",(0,s.jsx)(t.p,{children:"As mentioned in previous sections, we can use Mako if statements to refactor our previously designed code. Let's start with our welfare eligibility application. You might recall the following flowchart."}),"\n",(0,s.jsx)(t.mermaid,{value:"flowchart LR;\n    id1{{How old are you?}}\n    id1 -- 18 or younger --\x3e id2(Family Tax A or B)\n    id1 -- 65 or older --\x3e id3(Aged Care Pension)\n    id1 -- Between 18 and 65  --\x3e id4{{Do you meet any of the following?}}\n    id4 -- I have a disability --\x3e id5(Disability Support Pension)\n    id4 -- I am currently studying --\x3e id6(AusStudy)\n    id4 -- I am unemployed --\x3e id7(JobSeeker)\n    id4 -- None of the above --\x3e id8(Not eligible)"}),"\n",(0,s.jsxs)(t.p,{children:["Previously, with ",(0,s.jsx)(t.code,{children:"elif"})," and nested ",(0,s.jsx)(t.code,{children:"if"})," statement clauses, we had an ",(0,s.jsx)(t.code,{children:"event:"})," tag corresponding to each form of welfare. We are going to refactor our application so that someone can be eligible for multiple forms of welfare. We also want to add some new rules so that our application more accurately reflects the rules on welfare in Australia. Specifically:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"Someone can only claim AusStudy if they are 25 or older and are studying full time"}),"\n",(0,s.jsx)(t.li,{children:"Someone can only claim JobSeeker if they are 22 or older and are studying full time"}),"\n",(0,s.jsx)(t.li,{children:"Someone cannot claim the Aged Pension or the Disability Support Pension simultaneusly"}),"\n",(0,s.jsx)(t.li,{children:"Somone cannot claim AusStudy or JobSeeker simultaneously"}),"\n"]}),"\n",(0,s.jsx)(t.p,{children:"Therefore, we need to redesign our flow chart as follows:"}),"\n",(0,s.jsx)(t.mermaid,{value:"flowchart LR;\n    id1{{How old are you?}}\n    id1 -- Between 18 and 65 --\x3e id4(Proceed to next set of questions)\n    id1 -- 65 or older --\x3e id3(Aged Care Pension)\n    id1 -- 18 or younger --\x3e id2(FamilyTax A or B)\n    id2 --\x3e id5(Do you have a disability?)\n    id3 --\x3e id8\n    id4 --\x3e id5\n    id4 -- I am older than 25 --\x3e id6(Are you studying full time?)\n    id4 -- I am older than 22 --\x3e id7(Are you unemployed?)\n    id5 --\x3e id8(Display welfare payment if yes)\n    id6 --\x3e id8\n    id7 --\x3e id8"}),"\n",(0,s.jsx)(t.p,{children:"So what are we doing in this flowchart is checking the user's answers to see whether they are eligible for different services or not. If they are, we will display them in one final endscreen."}),"\n",(0,s.jsx)(t.p,{children:"Now, let's see how we can implement this in code."}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-yaml",metastring:'showLineNumbers title="Ch4_Welfare_Mako.yml" showLineNumbers',children:"---\nquestion: |\n  What is your age?\nfields:\n  - no label: userAge\n    datatype: integer\n---\nquestion: |\n  Do you suffer from a disability?\nyesno: userHasDisability\n---\nquestion: |\n  Are you studying full time?\nyesno: userIsStudying\n---\nquestion: |\n  Are you unemployed?\nyesno: userIsUnemployed\n---\nmandatory: True \nquestion: Your eligibility for welfare services.\nsubquestion: |\n  Thank you for completing this questionnaire.\n\n  % if userAge < 18:\n  Because you are under 18, your parents may be eligible for [Family Tax A and B](https://www.dss.gov.au/families-and-children/benefits-payments/family-tax-benefit).\n  % if userHasDisability:\n  You may also be eligible for the [Disability Support Pension](https://www.servicesaustralia.gov.au/disability-support-pension).\n  % endif\n  % elif userAge >= 65:\n  Because you are older than 65, you may be eligible for the [Aged Pension](https://www.servicesaustralia.gov.au/age-pension)\n  % else:\n  % if userHasDisability:\n  You may also be eligible for the [Disability Support Pension](https://www.servicesaustralia.gov.au/disability-support-pension)\n  % elif userIsStudying:\n  % if userAge >= 25:\n  You may also be eligible for [AusStudy](https://www.servicesaustralia.gov.au/austudy)\n  % else:\n  It does not appear that you are eligible for any welfare payments. \n  % endif\n  % elif userIsUnemployed:\n  % if userAge >= 22:\n  You may be eligible for [JobSeeker](https://www.servicesaustralia.gov.au/jobseeker-payment)\n  % else:\n  It does not appear that you are eligible for any welfare payments.\n  % endif\n  % else:\n  It does not appear that you are eligible for any welfare payments. \n  % endif\n  % endif\n\nbuttons:\n  - Restart: restart\n  - Exit: exit\n---\n"})}),"\n",(0,s.jsx)(t.p,{children:"Once again, let's go through how this application works. Immediately we can tell that our application is much shorter (55 lines) than it was previously. However, there are many different sections of this if statement that we will need to break down."}),"\n",(0,s.jsx)(t.h3,{id:"lines-20-to-26---the-mandatory-question-block",children:"Lines 20 to 26 - the Mandatory Question Block"}),"\n",(0,s.jsxs)(t.p,{children:["The first thing that Docassemble will do is execute the mandatory question block. To do so, it needs a value for ",(0,s.jsx)(t.code,{children:"userAge"})," first, so that it can execute the first if statement."]}),"\n",(0,s.jsx)(t.h3,{id:"lines-1-to-7",children:"Lines 1 to 7"}),"\n",(0,s.jsxs)(t.p,{children:["In order to assign a value to ",(0,s.jsx)(t.code,{children:"userAge"}),", Docassemble will execute the first question block on lines 1 to 7."]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_mako_welfare_age_question.png",altText:"The first question displayed to the user in the nested Mako if statement application, asking for their age."}),"\n",(0,s.jsx)(t.h3,{id:"lines-27-to-28",children:"Lines 27 to 28"}),"\n",(0,s.jsxs)(t.p,{children:["Unlike our original ",(0,s.jsx)(t.code,{children:"Ch4_Welfare_Elif.yml"})," application though, we have an extra nested if statement. This if statement needs a value for ",(0,s.jsx)(t.code,{children:"userHasDisability"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"lines-8-to-10",children:"Lines 8 to 10"}),"\n",(0,s.jsxs)(t.p,{children:["In order to assign a value to ",(0,s.jsx)(t.code,{children:"userHasDisability"}),", Docassemble needs to execute the question block on Lines 8 to 10."]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_disability_question.png",altText:"The disability question - this question is executed if the user says they are under 18 or between 18 and 65."}),"\n",(0,s.jsxs)(t.p,{children:["If ",(0,s.jsx)(t.code,{children:"userHasDisability"})," is set to True by the user (that is, they press yes), Docassemble will display the additional text from Line 28, along with the text from Line 26:"]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_familytaxab_and_dsp_eligible.png",altText:"This is the endpoint screen displayed if the user states they are under 18 and are disabled."}),"\n",(0,s.jsxs)(t.p,{children:["Otherwise, if ",(0,s.jsx)(t.code,{children:"userHasDisability"})," is set to False, Docassemble will just display the text from Line 26:"]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_familytaxab_eligible.png",altText:"This is the endpoint screen displayed if the user states they are under 18 and are not disabled."}),"\n",(0,s.jsx)(t.h3,{id:"lines-30-to-31",children:"Lines 30 to 31"}),"\n",(0,s.jsx)(t.p,{children:"What happens if the user indicates that they are 65 years or older?"}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_age_question_older_than_65.png",altText:"A screenshot of the user entering in a value of 65 or greater for their age."}),"\n",(0,s.jsxs)(t.p,{children:["The ",(0,s.jsx)(t.code,{children:"elif"})," clause on Line 30 will be executed and the text (and only the text) on Line 31 will be displayed instead."]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_age_endpoint_older_than_65.png",altText:"This is the endpoint screen displayed if the user states they are 65 or older."}),"\n",(0,s.jsx)(t.p,{children:"Note that none of the other text is being displayed, and therefore none of the other questions are being asked."}),"\n",(0,s.jsx)(t.h3,{id:"line-32",children:"Line 32"}),"\n",(0,s.jsx)(t.p,{children:"What happens if our user indicates they are between 18 and 65?"}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_age_question_18_to_65.png",altText:"A screenshot of the user entering in a value between 18 and 65 for their age."}),"\n",(0,s.jsxs)(t.p,{children:["This is where Docassemble executes the nested ",(0,s.jsx)(t.code,{children:"if-elif-else"})," statement clause within our ",(0,s.jsx)(t.code,{children:"else"})," clause."]}),"\n",(0,s.jsx)(t.h3,{id:"lines-33-to-34",children:"Lines 33 to 34"}),"\n",(0,s.jsxs)(t.p,{children:["To evaluate the nested ",(0,s.jsx)(t.code,{children:"if-elif-else"})," statement, Docassemble first needs a value for ",(0,s.jsx)(t.code,{children:"userHasDisability"}),". Therefore, Docassemble will execute the question block on Lines 8 to 10. If the user answers Yes to this question, they will only see the text stating that they are eligible for the Disability Support Pension."]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_dsp_eligible.png",altText:"This is the endpoint screen displayed if the user indicates they are between 18 and 65, and they suffer from a disability"}),"\n",(0,s.jsx)(t.h3,{id:"lines-35-to-40",children:"Lines 35 to 40"}),"\n",(0,s.jsx)(t.p,{children:"The next five lines of our application evaluate whether the user might be eligible for AusStudy. Remember that unlike the DSP, there are two requirements for AusStudy:"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"The user must be studying full time; and,"}),"\n",(0,s.jsx)(t.li,{children:"The user must be 25 or older."}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["Docassemble first evaluates the ",(0,s.jsx)(t.code,{children:"elif"})," statement clause on Line 35. To do so, it needs a value for ",(0,s.jsx)(t.code,{children:"userIsStudying"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"lines-11-to-15",children:"Lines 11 to 15"}),"\n",(0,s.jsxs)(t.p,{children:["To assign a value for ",(0,s.jsx)(t.code,{children:"userIsStudying"}),", Docassemble needs to execute the question block on Lines 11 to 15."]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_study_question.png",altText:"The study question - this question is executed if the user says they are between 18 and 65 and are not disabled."}),"\n",(0,s.jsxs)(t.p,{children:["If the user answers Yes (and Docassemble assigns the value True to ",(0,s.jsx)(t.code,{children:"userIsStudying"}),"), Docassemble then evaluates the if statement on Line 36, and checks whether the variable ",(0,s.jsx)(t.code,{children:"userAge"})," contains a value equal to 25 or greater. If they are, they will receive the following text stating that they are eligible for AusStudy."]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_ausstudy_eligible.png",altText:"This is the endpoint displayed to the user if they nominate their age as being between 25 and 65 and they say they are studying full time"}),"\n",(0,s.jsxs)(t.p,{children:["Otherwise, if the value in ",(0,s.jsx)(t.code,{children:"userAge"})," is not between 25 and 65, will be told they are not eligible for AusStudy."]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_ausstudy_not_eligible.png",altText:"This is the endpoint displayed to the user if they nominate their age as being between 18 and 25 but say they are studying"}),"\n",(0,s.jsxs)(t.p,{children:["If the user answers No (and Docassemble assigns the value False to ",(0,s.jsx)(t.code,{children:"userIsStudying"}),"), Docassemble will execute the next ",(0,s.jsx)(t.code,{children:"elif"})," statement clause."]}),"\n",(0,s.jsx)(t.h3,{id:"lines-41-to-46",children:"Lines 41 to 46"}),"\n",(0,s.jsxs)(t.p,{children:["If the user indicates that the are not studying, Docassemble then executes the next branch of the ",(0,s.jsx)(t.code,{children:"elif"})," statement clause. This clause evaluates whether the user might be eligible for JobSeeker. Remember that there are two requirements for a user to be eligible for JobSeeker:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"They must be unemployed; and,"}),"\n",(0,s.jsx)(t.li,{children:"They must be 22 or older"}),"\n"]}),"\n",(0,s.jsxs)(t.p,{children:["To evaluate this ",(0,s.jsx)(t.code,{children:"elif"})," statement, Docassemble needs a value for ",(0,s.jsx)(t.code,{children:"userIsUnemployed"}),"."]}),"\n",(0,s.jsx)(t.h3,{id:"lines-16-to-19",children:"Lines 16 to 19"}),"\n",(0,s.jsxs)(t.p,{children:["To assign a value to ",(0,s.jsx)(t.code,{children:"userIsUnemployed"}),", Docassemble needs to execute the question block on lines 16 to 19:"]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_unemployed_question.png",altText:"The study question - this question is executed if the user says they are between 18 and 65, are not disabled and are not studying full time."}),"\n",(0,s.jsxs)(t.p,{children:["This value is then used to evaluate the ",(0,s.jsx)(t.code,{children:"elif"})," clause on Line 41. If the user answers Yes (and Docassemble assigns the value True to ",(0,s.jsx)(t.code,{children:"userIsUnemployed"}),"), Docassemble then evaluates the nested if statement on Line 42. It already has a value for ",(0,s.jsx)(t.code,{children:"userAge"})," so Docassemble does not need to answer this question again."]}),"\n",(0,s.jsxs)(t.p,{children:["If ",(0,s.jsx)(t.code,{children:"userAge"})," is set to a value greater than or equal to 22, the text telling the user they are eligible for JobSeeker is displayed."]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_jobseeker_eligible.png",altText:"This is the endpoint displayed to the user if they nominate their age as being between 22 and 65 and they say they are unemployed"}),"\n",(0,s.jsxs)(t.p,{children:["Otherwise, if the user is less than 22, the ",(0,s.jsx)(t.code,{children:"else"})," statement clause on Line 44 will be executed and the following text will be displayed."]}),"\n",(0,s.jsx)(o.DisplayImage,{imageURL:"/img/textbook/chapter_04/nested_mako_if_welfare_jobseeker_ineligible.png",altText:"This is the endpoint displayed to the user if they nominate their age as being between 22 and 65 and they say they are not unemployed, or they are unemployed but say they less than 22."}),"\n",(0,s.jsxs)(t.p,{children:["Note that if the user answers No to the question on whether they are unemployed (that is, ",(0,s.jsx)(t.code,{children:"userIsUnemployed"})," is assigned the value False), the else clause on Line 47 matching the nested ",(0,s.jsx)(t.code,{children:"if-elif-else"})," clause will be executed, and this text will also be displayed."]}),"\n",(0,s.jsx)(t.admonition,{type:"tip",children:(0,s.jsxs)(t.p,{children:["Note that each nested ",(0,s.jsx)(t.code,{children:"if-else"})," and ",(0,s.jsx)(t.code,{children:"if-elif-else"})," statement in our mandatory question block contains an ending ",(0,s.jsx)(t.code,{children:"% endif"})," statement. If you do not include these, Docassemble will not run."]})}),"\n",(0,s.jsx)(t.h2,{id:"improving-our-application",children:"Improving Our Application"}),"\n",(0,s.jsxs)(t.p,{children:["Although this is an improvement over our previous application, there are still things that we can improve. First, we have three layers of nested if statements. That can increase the risk of errors being introduced into our application. Second, some of these ",(0,s.jsx)(t.code,{children:"if"})," statements duplicate the text that we might display to the user. There might be a more efficient way to combine these statements together using ",(0,s.jsx)(t.a,{href:"00-60",children:"logical operators"}),"."]})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}function m(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}}}]);