"use strict";(self.webpackChunktextbook_source=self.webpackChunktextbook_source||[]).push([[6599],{340:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>c,contentTitle:()=>l,default:()=>u,frontMatter:()=>s,metadata:()=>i,toc:()=>h});const i=JSON.parse('{"id":"textbook/chapter_08/00-10","title":"Creating Documents and Templates in Docassemble","description":"As the name implies, Docassemble allows you to assessmble documents. This section covers how to create documents.","source":"@site/docs/textbook/chapter_08/00-10.mdx","sourceDirName":"textbook/chapter_08","slug":"/textbook/chapter_08/00-10","permalink":"/textbook/docs/textbook/chapter_08/00-10","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"title":"Creating Documents and Templates in Docassemble"},"sidebar":"textbookSidebar","previous":{"title":"Chapter 8. How to Create Attachments","permalink":"/textbook/docs/textbook/chapter_08/"},"next":{"title":"More Advanced Jinja in Docassemble","permalink":"/textbook/docs/textbook/chapter_08/00-20"}}');var o=n(4848),a=n(8453),r=(n(6588),n(2487));const s={title:"Creating Documents and Templates in Docassemble"},l=void 0,c={},h=[{value:"Assembling Documents with Jinja",id:"assembling-documents-with-jinja",level:2},{value:"Our Application Specification",id:"our-application-specification",level:3},{value:"Turning Our Design into a flowchart",id:"turning-our-design-into-a-flowchart",level:3},{value:"Constructing Our Application from our Flowchart",id:"constructing-our-application-from-our-flowchart",level:3},{value:"Uploading Our Template",id:"uploading-our-template",level:3},{value:"Summary and Next Steps",id:"summary-and-next-steps",level:2}];function d(e){const t={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",li:"li",mermaid:"mermaid",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return r||p("Components",!1),r.DisplayImage||p("Components.DisplayImage",!0),(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.p,{children:"As the name implies, Docassemble allows you to assessmble documents. This section covers how to create documents."}),"\n",(0,o.jsx)(t.h2,{id:"assembling-documents-with-jinja",children:"Assembling Documents with Jinja"}),"\n",(0,o.jsx)(t.p,{children:"To help us assemble documents, we need to use Jinja. We have covered how to use Jinja in previous chapters.  By adding Jinja codes into a word processing document, Docassemble can then read this document and replace the Jinja codes with values our user has entered."}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsx)(t.p,{children:"Throughout this chapter, we refer to the Microsoft Word .docx format. However you can use other document formats as well (such as the LibreOffice .odt format)."})}),"\n",(0,o.jsx)(t.p,{children:"We can handle the other formatting, such as text effects and images, in the document."}),"\n",(0,o.jsx)(t.h3,{id:"our-application-specification",children:"Our Application Specification"}),"\n",(0,o.jsxs)(t.p,{children:["What we will do in this section is create a legal application that helps the user fill in a Federal Court of Australia/Federal Circuit and Family Court of Australia ",(0,o.jsx)(t.a,{href:"https://www.fedcourt.gov.au/forms-and-fees/forms/federal-court-rules/FCA_form017_20110801.doc",children:"Form 17"}),". The application will do the following:"]}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"The application will open by explaining what it does"}),"\n",(0,o.jsx)(t.li,{children:"The application will then ask the user where they are filling their application"}),"\n",(0,o.jsx)(t.li,{children:"If they are filling their application in either the Supreme Court, the Magistrates Court or the District Court, they will be taken to an ineligible screen"}),"\n",(0,o.jsxs)(t.li,{children:["Otherwise, they will be asked to fill in the details about their application. These include the following:","\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"The District Registry (state or territory) where the application is being filed"}),"\n",(0,o.jsx)(t.li,{children:"The Division (that is, the matter type) of the Federal and Family Court court where the application is being filed"}),"\n",(0,o.jsx)(t.li,{children:"The full name of the applicant"}),"\n",(0,o.jsx)(t.li,{children:"The full name of the respondent"}),"\n",(0,o.jsx)(t.li,{children:"The date of filling"}),"\n",(0,o.jsx)(t.li,{children:"Who is completing the form"}),"\n",(0,o.jsx)(t.li,{children:"In what capacity they are acting in (Applicant, Respondent, Lawyer for the Applicant, Lawyer for the Respondent)"}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(t.li,{children:"The user can then download this template and file it themselves"}),"\n"]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["If you look at the template, you might see that there are some other fields. We will work out how to complete these in the next ",(0,o.jsx)(t.a,{href:"00-20",children:"section"}),"."]})}),"\n",(0,o.jsx)(t.h3,{id:"turning-our-design-into-a-flowchart",children:"Turning Our Design into a flowchart"}),"\n",(0,o.jsx)(t.p,{children:"Once we have these specifications, we can then start to work on how to implement them via a flowchart. We know that we will need the following:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"An opening screen to display the purpose of the application, that allows the user to exit or continue"}),"\n",(0,o.jsx)(t.li,{children:"A question screen that asks the user in which court they are filing their matter"}),"\n",(0,o.jsx)(t.li,{children:"A code block which will assess whether the user is eligible or ineligible to use the application"}),"\n",(0,o.jsx)(t.li,{children:"An ineligible screen that explains to the user why the application cannot help them, and which allows the user to exit or restart if they have made a mistake"}),"\n",(0,o.jsx)(t.li,{children:"A question screen which collects the details about the matter from the user"}),"\n",(0,o.jsx)(t.li,{children:"An eligible screen which displays the allows the user to download the completed template"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"From this, we can construct the following flowchart:"}),"\n",(0,o.jsx)(t.mermaid,{value:"flowchart TD;\n    A[Start]\n    A --\x3e B(Introduction Screen)\n    B -- User Clicks Exit --\x3e C[End]\n    B -- User Clicks Continue --\x3e D(Ask user what court\\n they are filing their\\n application in)\n    D --\x3e E{{Where is the user filing\\n their application?}}\n    E -- Supreme Court,\\n Magistrates Court or\\n District Court --\x3e F[Ineligible Screen]\n    F -- User clicks Exit --\x3e G[End]\n    F -- User clicks Restart --\x3e B\n    E -- Federal Court of Austrlia or\\n Federal Circuit and Family Court of Australia --\x3e H[Question Screen]\n    H --\x3e I(Ask the user to fill in\\n the Registry, the Division, the Applicant,\\n the Respondent, the date of filing,\\n who is completing the form and\\n in what capacity)\n    I -- Generate a document with template\\n using the completed answers --\x3e J[Eligible Screen]\n    J -- User Clicks Exit --\x3e K[End]\n    J -- User Clicks Restart --\x3e B\n\n    classDef questionClass fill:#ffe6bc\n\n    class E questionClass"}),"\n",(0,o.jsx)(t.h3,{id:"constructing-our-application-from-our-flowchart",children:"Constructing Our Application from our Flowchart"}),"\n",(0,o.jsx)(t.p,{children:"Once we have charted out this flowchart, we can create our application in Docassemble. Remember that the various segments of the flowchart will help us map out how many screens we need."}),"\n",(0,o.jsx)(t.pre,{children:(0,o.jsx)(t.code,{className:"language-yaml",metastring:'showLineNumbers title="Ch8_Form_17_Generator.yml"',children:"# We will deifne an objects block to store our endpoint DADict object\n---\nobjects: \n  - endpoint: DADict\n---\n# Welcome Screen for Form 17 generator app\n# This screen contains information about what the app does, as well as a disclaimer\n# It also contains a continue and exit button\nmandatory: True\nquestion: Federal Court Form 17 generator app\nsubquestion: |\n  Welcome to the Form 17 generator app\n  \n  This application will help you generate a [Form 17](https://www.fedcourt.gov.au/forms-and-fees/forms/federal-court-rules/FCA_form017_20110801.doc). You can then file this form in either the Federal Court of Australia, or the Federal Circuit and Family Court of Australia.\n  \n  *Please note that forms completed by this application should be checked by a lawyer first. This app does not provide any legal advice.*\n  \n  Please click **Continue** to accept these terms. Otherwise, click **Exit**.\n\nbuttons:\n   - Continue: continue\n   - Exit: exit\n---\n# First question block\n# This asks the user in which court they are filing their application\n# Note that they can only choose one court\nquestion: In which court are you filing your application\nfields:\n  - no label: userCourtFiling\n    datatype: radio\n    choices:\n      - Supreme Court\n      - District Court\n      - Magistrates Court\n      - Federal Court of Australia\n      - Federal Circuit and Family Court of Australia\n---\n# Code block\n# This code block directs the user to the eligible or ineligible screen depending on their answers.\nmandatory: True\ncode: |\n  if userCourtFiling == 'Federal Court of Australia' or userCourtFiling == 'Federal Circuit and Family Court of Australia':\n    endpoint['eligible']\n  else:\n    endpoint['ineligible']\n---\n# Ineligible screen\n# This screen is selected if we select either Magistrates, District or Supreme Court\nevent: endpoint['ineligible']\nquestion: You are not eligible\nsubquestion: |\n  This application is meant to help users complete a Form 17 to submit to the Federal Court of Australia or the Federal Circuit and Family Court of Australia.\n  \n  Because you are not submitting a form to either of these courts, you are not eligible to use this application.\n  \n  Please press **Exit* to exit this application or **Restart** to restart.\nbuttons:\n  - Exit: exit\n  - Restart: restart\n---\n# Our question block\n# This is where we gather the details to fill in our form\nquestion: Please fill out these details to complete your Form 17\nfields: \n  - State of District Registry: courtRegistry\n    datatype: radio\n    choices:\n      - ACT\n      - NSW\n      - NT\n      - QLD\n      - SA\n      - TAS\n      - VIC\n      - WA\n  - National Practice Area/Division: courtNPA\n    datatype: radio\n    choices:\n      - Administrative, Constitutional Law and Human Rights\n      - Admiralty and Maritime\n      - Commercial Contracts, Banking, Finance and Inusrance \n      - Corporations and Corporate Insolvency\n      - General and Personal Insolvency\n      - Regulatory and Consumer Protection\n      - Economic Regulator, Competition and Access\n      - Commercial Arbitration\n      - Employment and Industrial Relations\n      - Federal Crime and Related Proceedings\n      - Patents and Associated Statutes\n      - Trade Marks\n      - Copyright and Industrial Design\n      - Native Title\n      - Family Law\n      - Migration\n      - Privacy Law\n  - Full Name of the Applicant: applicantFullName\n    datatype: string\n  - Full Name of the Respondent: respondentFullName\n    datatype: string\n  - Date of filing: dateOfFiling\n    datatype: date\n  - Who is completing this Form? : whoFiledForm\n    datatype: string\n  - In what capacity are they Acting?: capacityOfFiler\n    datatype: string\n---\n# Eligible screen\nevent: endpoint['eligible']\nquestion: You are eligible\nsubquestion: |\n  Thank you for completing this form\n  \n  Please find attached your answers:\n  \n  Questions | Your Answers\n  ----------|-------------\n  Court | ${userCourtFiling}\n  District Registry | ${courtRegistry}\n  NPA/Division | ${courtNPA}\n  Applicant | ${applicantFullName}\n  Respondent | ${respondentFullName}\n  Date of Filing | ${dateOfFiling}\n  Who Completed the Form | ${whoFiledForm}\n  Capacity of Filer | ${capacityOfFiler}\n\nattachment:\n  docx template file: Federal_Court_Form_17.docx\nbuttons:\n  - Exit: exit\n  - Restart: restart\n---\n"})}),"\n",(0,o.jsx)(t.h3,{id:"uploading-our-template",children:"Uploading Our Template"}),"\n",(0,o.jsx)(t.p,{children:"Immediately if we save this form we can see that we have an error:"}),"\n",(0,o.jsx)(r.DisplayImage,{imageURL:"/img/textbook/chapter_08/ch08_missing_template_syntax_error.PNG",altText:"This is the error that you will see if you just copy this code from above and paste it in without uploading anything else."}),"\n",(0,o.jsxs)(t.p,{children:["We see this error because we are missing a template. Instead, we need to upload a template file called ",(0,o.jsx)(t.code,{children:"Federal_Court_Form_17.docx"})," exactly. We also need to make sure that we insert the correct Jinja codes for each field that the user will fill in."]}),"\n",(0,o.jsxs)(t.p,{children:["Fortunately, as with ",(0,o.jsx)(r.DisplayChapter,{chapter:"chapter_03"}),", we have a template you can download with the Jinja fields pre-filled."]}),"\n",(0,o.jsxs)(t.p,{children:["You can download this form ",(0,o.jsx)(t.a,{target:"_blank","data-noBrokenLinkCheck":!0,href:n(2827).A+"",children:"here"}),"."]}),"\n",(0,o.jsx)(t.admonition,{type:"caution",children:(0,o.jsx)(t.p,{children:"Note that some of our fields (including many of those on page 2) have not yet been filled in. Don't worry - we will fix that in the next section!"})}),"\n",(0,o.jsxs)(t.p,{children:["As we did in Chapter 3, you will need to press on the ",(0,o.jsx)(t.strong,{children:"Folders"})," menu in the Docassemble playground and select ",(0,o.jsx)(t.strong,{children:"Templates"}),". You will then need to upload the template that you just downloaded from this textbook into Docassemble."]}),"\n",(0,o.jsx)(t.p,{children:"Once you do, the syntax error message should disappear. However, we now have a new error:"}),"\n",(0,o.jsx)(r.DisplayImage,{imageURL:"/img/textbook/chapter_08/ch08_undefined_name_error.PNG",altText:"This is the error that you will see if you upload the template from this textbook without making any changes."}),"\n",(0,o.jsxs)(t.p,{children:["Why are we getting this error? Docassemble normally generates an Undefined Name error message if we use a variable without referring to it in a question block or giving it a value in a code block. In other words, we are referring to the variable ",(0,o.jsx)(t.code,{children:"whoFileForm"})," without defining it first."]}),"\n",(0,o.jsx)(t.admonition,{type:"tip",children:(0,o.jsxs)(t.p,{children:["We cover some more detail on how to debug our application in ",(0,o.jsx)(r.DisplayChapter,{chapter:"chapter_09"})]})}),"\n",(0,o.jsxs)(t.p,{children:["We can use the search feature in our playground in Docassemble to look for an undefined variable. Doing so shows that there is no variable called ",(0,o.jsx)(t.code,{children:"whoFileForm"})," in our Docassemble playground:"]}),"\n",(0,o.jsx)(r.DisplayImage,{imageURL:"/img/textbook/chapter_08/ch08_undefined_name_error_playground.PNG",altText:"A screenshot of a user searching for the variable `whoFileForm` in the Docassemble playground. The closest match is `whoFiledForm`"}),"\n",(0,o.jsxs)(t.p,{children:["As we can see, the closest match is ",(0,o.jsx)(t.code,{children:"whoFiledForm"}),".  Another way to check is if we run our application and then check the debug output. We will see that needs a definition of ",(0,o.jsx)(t.code,{children:"whoFileForm"})," to display our eligible endpoint:"]}),"\n",(0,o.jsx)(r.DisplayImage,{imageURL:"/img/textbook/chapter_08/ch08_undefined_name_error_debug.PNG",altText:"A screenshot of our application running. "}),"\n",(0,o.jsxs)(t.p,{children:["That indicates the error is somewhere in our template. Sure enough, on page one of our template we have a reference to ",(0,o.jsx)(t.code,{children:"whoFileForm"}),":"]}),"\n",(0,o.jsx)(r.DisplayImage,{imageURL:"/img/textbook/chapter_08/ch08_undefined_name_error_template.PNG",altText:"A screenshot of our template, with the error on page one (a reference to the variable `whoFileForm`) highlighted"}),"\n",(0,o.jsx)(t.p,{children:"Once we have uploaded and corrected our template again, the error will disappear. If we run the application, we will see that Docassemble has filled in the variables that we have defined:"}),"\n",(0,o.jsx)(r.DisplayImage,{imageURL:"/img/textbook/chapter_08/ch08_federal_court_complete_screen.PNG",altText:"A screenshot of our application if the user selects the eligible branch and enters in values."}),"\n",(0,o.jsx)(r.DisplayImage,{imageURL:"/img/textbook/chapter_08/ch08_federal_court_complete_template.PNG",altText:"A screenshot of the same completed template."}),"\n",(0,o.jsx)(t.h2,{id:"summary-and-next-steps",children:"Summary and Next Steps"}),"\n",(0,o.jsx)(t.p,{children:"In this section, we have covered:"}),"\n",(0,o.jsxs)(t.ul,{children:["\n",(0,o.jsx)(t.li,{children:"How to create Jinja fields"}),"\n",(0,o.jsx)(t.li,{children:"How to add an attachment block to Docassemble"}),"\n",(0,o.jsx)(t.li,{children:"How to upload our template to Docassemble"}),"\n",(0,o.jsx)(t.li,{children:"How to identify errors"}),"\n"]}),"\n",(0,o.jsx)(t.p,{children:"In the next section, we will cover how to introduce some more advanced features in Docassemble."}),"\n",(0,o.jsxs)(r.Quizlet,{title:"Jinja variable syntax",children:[(0,o.jsxs)(t.p,{children:["We would like to refer to the variable ",(0,o.jsx)(t.code,{children:"userAge"})," using Jinja syntax in a Microsoft Word template. How would we do this?"]}),(0,o.jsx)(r.Answer,{children:(0,o.jsx)(t.p,{children:(0,o.jsx)(t.code,{children:"${userAge}"})})}),(0,o.jsx)(r.Answer,{children:(0,o.jsx)(t.p,{children:(0,o.jsx)(t.code,{children:"{userAge}"})})}),(0,o.jsx)(r.Answer,{isCorrect:!0,children:(0,o.jsx)(t.p,{children:(0,o.jsx)(t.code,{children:"{{userAge}}"})})}),(0,o.jsx)(r.Answer,{isCorrect:!0,children:(0,o.jsx)(t.p,{children:(0,o.jsx)(t.code,{children:"{{ userAge }}"})})}),(0,o.jsx)(r.Explanation,{correctAnswer:!0,children:(0,o.jsx)(t.p,{children:"That's right! Note that it does not matter whether we have a space between the braces and the variable name."})}),(0,o.jsx)(r.Explanation,{children:(0,o.jsx)(t.p,{children:"That's not quite right. Try again."})})]})]})}function u(e={}){const{wrapper:t}={...(0,a.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}function p(e,t){throw new Error("Expected "+(t?"component":"object")+" `"+e+"` to be defined: you likely forgot to import, pass, or provide it.")}},2827:(e,t,n)=>{n.d(t,{A:()=>i});const i=n.p+"assets/files/Federal_Court_Form_17-4d55cd7dffa404ee242ed56d6418e04a.docx"}}]);