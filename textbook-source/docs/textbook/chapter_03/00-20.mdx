---
title: Data Types
---
import {DisplayGlossaryItem} from '@site/src/components';
import {DisplayImage} from '@site/src/components';

## Introduction
Much like we can put different stuff in a bucket, like water or sand or fish (yum!),
we can also store different types of data in a variable.  Unlike a bucket, 
we tend to be a bit more picky about knowing what type of data we've stored
in our variables.  This is because we can do different things with different
<DisplayGlossaryItem item='datatype' plural />.  For example, we can do 
arithmetic on number data types but we can't on text (or 
<DisplayGlossaryItem item='string' />) data types.  Likewise, we can join
two strings together but doing that doesn't make too much sense with numbers.

:::note
Text is stored in what's called a <DisplayGlossaryItem item='string' /> data type.
It's called a 'string' because text is essentially a string of characters all joined together.

From now onwards we'll be referring to text only as **strings** and not as text.

We'll cover this further [below](TODO) but in coding, text includes spaces
(eg: 'Mark' is a string, as is 'Mark Ferraretto') and other special characters.
Just keep that in mind for now.
:::

## Data Types
Let's cover off a few data types that you'll be using in your code.

### Integers
Integers are whole numbers, that is numbers that are not fractions or numbers without a decimal point (eg: 1, 5, -33 etc).  They can be positive or negative.  They **must not**
have decimals.

We use integers to store information such as a person's age, or the year they were born,
or the number of days since they received a subpoena.

We can do arithmetic on integers.  For example, we can add two numbers together.  The value of the variable `c` in the example below would be 3.  The value of `d` would be 9.
```python showLineNumbers
a = 1
b = 2
c = a + b
d = (a + b) * 3
```
:::note
In python we use these arithmetic operators:

This|Means this
---|---
`+`| Addition (der!)
`-` | Subtraction eg: `3 - 2 == 1`
`*` | Multiplication eg: `3 * 2 == 6`
`/` | Division eg: `1 / 2 == 0.5`
:::

If we want to collect integer data from a user we can tell Docassemble to ensure that 
only integers are collected.  We can set a `datatype` in Docassemble code and this 
prevents incorrect data (eg: a string) being entered into the text field.  Here's an example

```yml showLineNumbers title="Only collect age as an integer"
---
mandatory: True
question: Integer datatype
fields:
  - Enter your age: MJFage
    # highlight-next-line
    datatype: integer
---
```
By setting `datatype: integer` Docassemble prevents the user from entering non-integer
data into the field.

<DisplayImage imageURL='/img/textbook/chapter_03/datatypes2.png' />

This is known as <DisplayGlossaryItem item='datavalidation' />.  Docassemble provides
a comprehensive set of data validation tools to ensure that users do not inadvertently
enter incorrect data.

### Floating points
Floating point numbers, or <DisplayGlossaryItem item='float' plural /> are
numbers that *do* contain decimals.  For example, the numbers
0.5, 1.32, 6.333333333, -123483.3728322 are all floating point numbers.

The most common use for floating points in a legal context is to work with money amounts,
as money, being a number to two decimal points, is best represented as a floating point number.

We can do arithmetic with floats much like we do with integers.  We can mix integers
and floats in our arithmetic, but if we do the result is always a float.  See these
examples:
```python showLineNumbers
a = 1.5
b = 3.5
c = a * 3  # c is 4.5
d = b * 2  # d is 7.0 (not 7)
e = d + 1  # e is 8.0 (not 9)
```
Docassemble's <DisplayGlossaryItem item='datavalidation' /> system contains a few
tools to help us ensure we collect floating point numbers properly.  
`datatype: number` that allows us to ensure that whatever we collect must be a number
(in this case meaning a float or an integer).  Docassemble also provides a 
`datatype: currency` which forces the user to enter number as a currency (ie: either 
a whole number or a number with only two digits after the decimal point).

```yml showLineNumbers title="Using number and currency datatypes"
---
mandatory: True
question: Floating point data types
fields:
  - Can only enter a currency value here: MJFcurrency
    # highlight-next-line
    datatype: currency
  - Can enter any number here: MJFnumber
    # highlight-next-line
    datatype: number
---
```
In the screenshot below you can see the user has entered text into the second field
and so the entry is invalid.  In the first field the user has entered `123.456` which is
not a valid currency.  In this case Docassemble will round up the value to `123.46` and
accept the input.

<DisplayImage imageURL='/img/textbook/chapter_03/datatypes3.png' />

:::hint
Copy and paste the code into your playground and try it out!
:::

:::caution A word on data types and Docassemble's `datatype:` data validation
Docassemble and <DisplayGlossaryItem item='python' upper /> define data type in 
slightly different ways.  In Python a data type is what we're describing here - the 
fundamental type of data that can be stored in a variable.
Docassemble's `datatype` mixes storage of data with <DisplayGlossaryItem item='datavalidation' />.
We've seen how these don't quite mesh as, fundamentally, a money amount is a
<DisplayGlossaryItem item='float' />, just like any other floating point number.  
Docassemble distinguishes between regular floats and currency, but it does this to
simplify how currencies are displayed and captured.  This is because, as legal software,
currencies are the most common type of floating point numbers that it works with.

We'll see there are other differences as well.  For example, Docassemble has different
data types for [Email addresses](https://docassemble.org/docs/fields.html#email),
[passwords](https://docassemble.org/docs/fields.html#password) and 
[plain text](https://docassemble.org/docs/fields.html#plaintext), even though 
fundamentally, all three 'data types' are actually
<DisplayGlossaryItem item='string' plural />.

For practical purposes, consider Docassemble's `datatype:` as a 
<DisplayGlossaryItem item='datavalidation' /> tool and not as a fundamental 
data type.  When we refer to data types in this textbook we'll be referring to the
fundamental data types as they are defined in Python.
:::

### Dates and times
Dates and times are another number-type data type.  In fact, they are represented
internally to Python (and many other languages and systems) as integers.
However, for practical
purposes we deal with dates and times as a separate data type.

Like other number-type data, we can do arithmetic with dates and times. This can be
useful if, for example, you need to work out the deadline for submitting a defence to,
a statement of claim, or to see if a claim is statute-barred.

Date and time arithmetic is more complex than arithmetic with other number-like data.
We can't just add a number to a date as Docassemble doesn't know whether we want 
to add that number to the day, month or year component of the date.

Date and time arithmetic will be covered [elsewhere in this textbook](TODO) but here is 
some example code that collects dates and datetimes and performs some basic arithmetic.

```yml showLineNumbers title="Basic Date and Time arithmetic"
---
mandatory: True
question: Date and time output
subquestion: |
  Data|Value 
  ---|---
  The first date you entered (formatted to be AGLC-compliant)|${format_date(MJFdate1, "d MMMM YYYY")}
  The date and time you entered (not AGLC-compliant.  Note that by default the time isn't displayed!)|${MJFdt1}
  The date and time, this time AGLC-compliant and with the time|${format_datetime(MJFdt1, "d MMMM YYYY h:mm a")}
  28 days after the first date|${MJFdate1.plus(days=28)} 
  
---
question: Enter data below
fields:
  - Choose a date: MJFdate1
    datatype: date
  - Choose another date and time: MJFdt1
    datatype: datetime
---
```
:::tip
Copy this code into your playground and try it out!
:::

### Strings
Strings are by far the most common data type you will be dealing with.  Law is 
clearly a very text-based profession and text is represented to technology as a
string of characters joined together, or as a <DisplayGlossaryItem item='string' />.

#### What is in a string?
Any text is clearly a string, so:
> hello

is a string. However, a string is more than just words.  A string can contain numbers,
symbols and spaces.  In short, if you can type it on your keyboard then it can be 
represented as a string.  That means:

> Strings can contain spaces between words, and punctuation.

> Strings can contain numbers, such as this one: 123!

The next three examples are also all strings:

> *#(%#()#_@(@&#))

> 2839683732

> This string 'has quotes' in it

#### Representing strings
As can be seen above a string can contain any combination of text, numbers and symbols.
This makes it challenging for Docassemble to work out whether data input is a string
or not.  How do we address this?  There are two ways:

##### 1. Encapsulating the string in quotes
If we want to make it clear to Docassemble that a string is a string and not, say, 
part of the code or a number or something else, we encapsulate the string in quotes.
We can use single or double quotes.  The convention is to use single quotes and only
use double-quotes if your string contains single quotes as part of it.  So, we would
express the five examples above as follows:

```
'Strings can contain spaces between words, and punctuation.'
'Strings can contain numbers, such as this one: 123!'
'*#(%#()#_@(@&#))'
'2839683732'
"This string 'has quotes' in it"
```
When Docassemble sees text in quotes it knows not to process that text and to display
it as a string.

##### 2. String is the default data type
The second way is that Docassemble has a presumption that *any* data it collects is 
a string unless specified otherwise.  This is where those `datatype:` tags come into 
play.  If the `datatype:` tag is omitted (as it usually is), Docassemble
[assumes](https://docassemble.org/docs/fields.html#plaintext) the
data type will be a string (or `text`) as it calls it.

Unless we specify otherwise, Docassemble collects data as a string and wraps the 
quotes around it.

:::caution Numbers as strings
It is evident from the above example that a string could contain a number. This can 
be a cause of confusion as Docassemble will usually display numbers as number data types and numbers as strings exactly the same way.

Copy this code into your playground as an example
```yml showLineNumbers
---
mandatory: True
question: Numbers as strings
subquestion: |

  Comment|Data
  ---|---
  Here is the first number you entered. This was collected as a string.|${MJFnum1}
  Here is the second number you entered.  This was collected as an integer.|${MJFnum2}
  
---
question: Enter data
fields:
  - Enter a number. This will be stored as a string: MJFnum1
  - Enter a number. This will be stored as an integer: MJFnum2
    datatype: integer
---
```
**Be careful!**

Docassemble treats strings and numbers in similar ways.  For example, while you can
'add' two strings together (using the `+` sign) what you get from a string will be
very different to what you'll get if your data is a number type.  The same goes for
testing strings to see if they equal one another.  See [Testing Variables](./00-30) for
more about this.
:::


You may be wondering how can Docassemble distinguish whether something is a string
or not.  A string


Move the note into here.
- joining strings together
- strings are actually a list of characters strung together.

### Booleans
- introduce the concept
- reducing iftt tests into true/false - fundamental
- DA uses yesno and yesnobutton datatypes to return boolean results
- if the answer is Yes or No then we express as a boolean.






## Docassemble, Python and Data Types
In Docassemble, data types are used for two purposes.  When we look at the data
types of variables, we refer to *fundamental* data types.  These are types
such as text (strings), numbers (integers and floats) and <DisplayGlossaryItem item='boolean' plural />.
Fundamental data types are essential to Python, and so variables and code blocks.

Docassemble's [manual](https://docassemble.org/docs/fields.html#data%20types)
refers to 'Data types and input types'.  Unhelpfully, Docassemble mixes the
two terms, but in Docassemble-speak most of its data types are actually 
<DisplayGlossaryItem item='inputtype' plural />.  Also unhelpfuly, we will 
also mix these terms!

#### The difference between a data type and an input type
A data type describes **the type of data**.  That is, the data may be a number,
or a string, or a picture, and so-on.  

An input type desribes **how the data is collected**. For example, Docassemble's
`radio` input type displays a question to a user as a set of radio buttons.
However, what is stored in the variable is usually a string.

<details>
    <summary>
        Example of input and data types
    </summary>
This code block collects the salutation for a person.

```yml
---
mandatory: true
question: Salutation
subquestion: |
    We're just collecting a salutation and nothing else, for 
    demonstration purposes
fields:
    - Enter salutation: MJFsalutation
      input type: radio
      choices:
        - Dr
        - Mr
        - Mrs
        - Ms
        - Mx
---
```
Because the `input type` is `radio`, the choices are presented like this:

<DisplayImage imageURL='/img/textbook/chapter_03/datatypes1.png' />

You can see from the code block that the value will be stored in `MJFsalutation`.  However,
the data type of what is stored is *not* a `radio` data type. It is stored as a 
<DisplayGlossaryItem item='string' />.  This makes sense as what we're storing
is just text.

So, the *input type* is `radio` but the *data type* is string.
</details>

Let's go through some of the fundamental datatypes and the Docassemble data types
and then we can come back to input types later.

## Fundamental Data Types


There are also *Docassemble data types*.  Docassemble data types are used by
docassemble to format how data is collected.  For example, Docassemble has
data types to display a question using [radio buttons](https://xx.xx)




